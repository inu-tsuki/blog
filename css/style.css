.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    padding: 8px 16px;
    border-radius: 6px;
    font-size: 0.9em;
    font-weight: 500;
    cursor: pointer;
    text-decoration: none;
    /* 对<a>标签生效，去除下划线 */
    white-space: nowrap;

    /* --- 核心：重置与对齐 --- */
    border: 1px solid transparent;
    /* 预设一个透明边框，避免hover时出现抖动 */
    margin: 0;
    /* 移除所有默认margin */
    line-height: 1.5;
    /* 强制一个统一的行高 */
    vertical-align: middle;
    /* 确保它们都以中线对齐 */
    -webkit-font-smoothing: antialiased;
    /* 优化字体渲染 */
    -moz-osx-font-smoothing: grayscale;
}

.iconfont {
    pointer-events: none;
}

/* --- 通用过渡动画工具类 --- */

/* 默认状态，为所有带 .fade-in 的元素准备好过渡效果 */
.fade-in {
    opacity: 1;
    transform: translateY(0);
    /* 初始状态：完全可见，无任何过渡效果 */
    pointer-events: all;
    transition: opacity 0.35s ease-in-out, transform 0.35s ease-in-out;
}

/* 隐藏状态 */
.fade-in.hidden {
    opacity: 0;
    transform: translateY(10px);
    /* 从下方轻微滑入的效果 */
    pointer-events: none;
    /* 隐藏时不可点击 */

    /* 配合 display 使用，确保元素不占位 */
    /* 我们将在JS中切换 display，但动画由 opacity 和 transform 驱动 */
}

/* --- 底部弹出通知样式 --- */
.toast-notification {
    position: fixed;
    bottom: 0;
    left: 50%;
    /* 先让它左边对齐到屏幕中线 */

    /* 关键：用 transform 把它精确地居中 */
    transform: translate(-50%, 120%);
    /* 初始状态：水平居中，并完全移出屏幕下方 */

    background-color: #323232;
    /* 深灰色背景，常见于安卓Toast */
    color: white;
    padding: 12px 24px;
    border-radius: 25px;
    /* 胶囊形状 */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);

    font-size: 0.9em;
    font-weight: 500;
    z-index: 9999;
    /* 确保在最顶层 */

    opacity: 0;
    pointer-events: none;
    /* 隐藏时不可点击 */

    /* 定义平滑的过渡动画 */
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s ease;
}

/* --- 当通知需要显示时，添加 .show class --- */
.toast-notification.show {
    transform: translate(-50%, -30px);
    /* 最终状态：水平居中，并上移到屏幕底部上方30px处 */
    opacity: 1;
    pointer-events: auto;
}

/* 可以在 .show 后面附加状态类，来改变颜色 */
.toast-notification.success {
    background-color: #d1ffd2;
    /* 绿色表示成功 */
}

.toast-notification.error {
    background-color: #f44336;
    /* 红色表示失败 */
}



/*全局样式*/


body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

    margin: 0;
    background-color: #f4f4f4;
    color: #333;
    line-height: 1.6;
}

.main-content,
.site-header,
.main-nav,
.site-footer {
    width: 80%;
    max-width: 960px;
    margin: 0 auto;
    /*居中*/
    padding: 20px;
}

.main-nav.main-nav {
    padding: 5px 20px;
}

a {
    color: #007BFF;
    text-decoration: none;
}

a:hover {
    color: #0054ae;
    text-decoration: none !important;
}

ul {
    list-style: none;
    padding: 0;
}

hr {
    border: none;
}

/* --- 新增：Select 包裹器样式 --- */
.select-wrapper {
    position: relative;
    display: flex;
    gap: 10px;
    border-radius: 6px;
    /* 关键：成为箭头的定位锚点 */
    flex-direction: row;
    /* 让它像一个行内元素一样流动 */
    width: auto;
    /* 宽度由内部的 select 决定 */
    transition: box-shadow 0.2s ease-in-out, border-color 0.2s ease-in-out;

}

/* --- 核心：箭头伪元素现在作用于包裹器上！ --- */
.select-wrapper::after {
    content: '';
    position: absolute;
    top: 50%;
    right: 12px;
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 6px solid #555;

    transform: translateY(-50%);
    transition: transform 0.2s ease-in-out;
    pointer-events: none;
    /* 确保点击能穿透箭头，触发select */
}

/* 当包裹器被打开或聚焦时，改变样式 */
.select-wrapper.open,
.select-wrapper:focus-within {
    /* :focus-within 伪类，当其内部任何元素聚焦时生效 */
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
}

/* .select-wrapper label {
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    
    transition: all 0.2s ease;
} */
/* --- 新增：为 label 和 select 设置样式 --- */
.select-wrapper label {
    font-size: 0.9em;
    font-weight: 500;
    color: #555;
    margin-bottom: 5px;
    /* 和下方的 select 之间留出间距 */
    order: 1;
    /* 确保 label 在前面 */
    transform: translateY(-50%);

    transition: all 0.2s ease;
}

.select-wrapper.open label,
.select-wrapper:focus-within label {
    top: -8px;
    /* 向上移动 */
    font-size: 0.8em;
    /* 缩小 */
    background: white;
    /* 盖住边框 */
    padding: 0 4px;
}


/* --- 全局 Select 样式 --- */
select {

    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    /* 让它填满包裹器，并移除自己的背景和边框 */
    width: 100%;
    background-color: transparent;
    /* 背景透明，显示包裹器的背景 */
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 8px 30px 8px 12px;
    font-size: 0.95em;
    color: #333;
    cursor: pointer;

    /* 3. 背景图片模拟下拉箭头 */
    /* background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); */
    background-image: none;
    /*     background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 16px 12px; */

    /* 4. 过渡动画 */
    /*     transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;

    transition: border-color 0.2s; */
}

/* --- open 和 hover 状态的样式现在也作用于包裹器 --- */
.select-wrapper:hover select {
    border-color: #999;
}

.select-wrapper select:focus {
    outline: none;
}

.select-wrapper.open::after {
    transform: translateY(-50%) rotate(180deg);
    /* 箭头翻转 */
}



/* select:hover,
select:focus {
    outline: none;
    border-color: #007BFF;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
}
 */
/* select:hover::after,
select:focus::after {
    border-top-color: #007BFF;
} */

/* --- 应用到项目中的所有 select --- */
#sort-by-select,
#order-by-select,
.category-select,
#post-category,
#editor-choice,
#adv-field,
#adv-operator {
    /* 这里可以放一些微调样式，但大部分样式已经由通用的 select 规则处理了 */
}


input[type="text"],
input[type="search"],
input[type="password"],
input[type="email"] {
    /* ... 你之前可能已经写了基础样式，比如 padding, border, border-radius ... */
    background-color: #fff;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    /* 确保有 transition */
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 8px 12px;
    font-size: 0.95em;
}

input[type="text"]:focus,
input[type="search"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
input[type="text"]:hover,
input[type="search"]:hover,
input[type="password"]:hover,
input[type="email"]:hover {
    outline: none;
    border-color: #007BFF;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2);
}



.hero-links-container::-webkit-scrollbar-thumb,
.workspace-tabs::-webkit-scrollbar-thumb {
    transition: background 0.3s;
}


/* --- Markdown 内容样式优化 --- */
.markdown-body {
    font-size: 16px;
    line-height: 1.7;
    padding: 20px 20px;
    background-color: #ffffff;
    color: #333333;
}

/* --- 精准的中文段落缩进规则 --- */
/* 选择器意思是：在 .markdown-body 内部，如果一个 <p> 标签紧跟在另一个 <p> 标签后面，
   则对这个 <p> 标签应用首行缩进。 */
.markdown-body p {
    text-indent: 2em;
}

/* 确保标题、列表、代码块等元素后面的第一个段落不缩进 */
/* .markdown-body h1 + p,
.markdown-body h2 + p,
.markdown-body h3 + p,
.markdown-body h4 + p,
.markdown-body h5 + p,
.markdown-body h6 + p,
.markdown-body ul + p,
.markdown-body ol + p,
.markdown-body blockquote + p,
.markdown-body pre + p,
.markdown-body hr + p {
    text-indent: 0;
} */

/* 为了美观，给段落之间增加一些垂直间距，替代西文排版的空行 */
.markdown-body p {
    margin-bottom: 1em;
}

/* 覆盖 github-markdown-css 的一些默认样式，让它更适合你的主题 */
.markdown-body h1,
.markdown-body h2 {
    border-bottom: 1px solid #eaecef;
    padding-bottom: .3em;
}

/* 代码块样式 */
.markdown-body pre {
    background-color: #f6f8fa;
    padding: 16px;
    border-radius: 6px;
    overflow: auto;
}

.markdown-body code {
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em;
}

.markdown-body blockquote {
    border-left: .25em solid #dfe2e5;
    color: #6a737d;
    padding: 0 1em;
}

/* --- 表格样式覆盖 --- */
.markdown-body table {
    border: 1px solid #dfe2e5;
    border-spacing: 0;
    margin: 20px 0;
    color: #333;
    /* 确保文字颜色是正常的黑色 */
    display: table;
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.markdown-body table td,
.markdown-body table th {
    padding: 10px;
    border: 1px solid #dfe2e5;
}

.markdown-body td {
    border: 1px solid #dfe2e5;
    /* 浅灰色边框 */
    background-color: #fff;
    /* 确保背景是白色 */
    border: 1px solid #ddd;
    padding: 10px;
}

.markdown-body th {
    /* 表头用一个非常浅的灰色背景 */
    font-weight: bold;
    border: 1px solid #ddd;
    padding: 10px;
    background-color: #f2f2f2;
    color: #333;
    font-weight: bold;
}

.markdown-body img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 10px auto;

}



/* 斑马条纹效果，让表格更易读 */
.markdown-body tr:nth-child(2n) {
    background-color: #7cbdff;
}

td:nth-child(1) {
    text-align: left;
}

td:nth-child(2) {
    text-align: center;
}

td:nth-child(3) {
    text-align: right;
}

.emphasis-italic {
    font-style: italic;
    color: #e67e22;
}

.markdown-body hr {
    height: 1px;
    /* 变细 */
    margin: 24px 0;
    /* 加大垂直间距 */
    background-color: #e1e4e8;
    /* 使用更柔和的灰色 */
    border: 0;
    /* 去掉默认的3D边框效果 */
}

/* --- 列表样式 --- */
.markdown-body ul,
.markdown-body ol {
    padding-left: 2em;
    /* 统一的列表缩进 */
}

.markdown-body li {
    margin-bottom: 0.5em;
    /* 列表项之间的垂直间距 */
}

/* 为无序列表添加圆点 */
.markdown-body ul>li {
    list-style-type: disc;
    /* 实心圆 */
}

.markdown-body ul>li>ul>li {
    list-style-type: circle;
    /* 空心圆 (二级列表) */
}

.markdown-body ul>li>ul>li>ul>li {
    list-style-type: square;
    /* 方块 (三级列表) */
}

/* 有序列表默认就是数字，我们主要调整间距 */
.markdown-body ol>li {
    list-style-type: decimal;
    /* 确保是数字 */
}

/* --- 代码块和行内代码字体优化 --- */
.markdown-body pre,
.markdown-body code {
    font-family: 'Fira Code', 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
    /* 这是一个专业的等宽字体栈：
        - SFMono-Regular: 苹果系统的默认等宽字体
        - Consolas: Windows系统的默认等宽字体
        - Liberation Mono, Menlo, Courier: 其他系统的后备字体
        - monospace: 最终的通用等宽字体后备
    */
    font-size: 0.9em;
}



/* 用户认证 */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;

    transition: opacity 0.3s ease, background-color 0.3s ease;
    opacity: 0;
    /*     visibility: hidden; */
    pointer-events: none;
}

.modal-overlay.active {
    opacity: 1;
    /*     visibility: visible; */
    pointer-events: auto;
}

.modal-content {
    background: #fdfdfd;
    padding: 30px;
    border-radius: 8px;
    width: 90%;
    max-width: 400px;
    position: relative;

    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);

    transform: translateY(20px) scale(0.98);
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);

}

.modal-overlay.active .modal-content {
    transform: translateY(0) scale(1);
}

.modal-content h2 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 25px;
    color: #333;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-size: 0.9em;
    font-weight: 500;
    color: #555;
}

#auth-form input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 6px;
    box-sizing: border-box;
    transition: border-color 0.2s, box-shadow 0.2s;
}

#invitation-code-group label {
    color: #6699cc;
    /* 用一种不同的颜色来暗示它是可选的、特殊的 */
}

#auth-invitation-code::placeholder {
    font-size: 0.9em;
    color: #aaa;
}

#auth-form input:focus {
    outline: none;
    border-color: #007BFF;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
}

#auth-submit-btn {
    width: 100%;
    padding: 12px;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
}

#auth-submit-btn:hover {
    background-color: #0056b3;
}

.modal-footer {
    text-align: center;
    margin-top: 20px;
    font-size: 0.9em;
    color: #888;
}

.modal-footer a {
    color: #007BFF;
    font-weight: 500;
}

.close-modal-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    border: none;
    background: none;
    font-size: 24px;
    cursor: pointer;
}

#auth-form input {
    margin-bottom: 10px;
}

.error-msg {
    color: red;
    font-size: 0.9em;
    margin-bottom: 10px;
}

/* --- 头部和导航栏样式 --- */
.site-header {
    background-color: #333;
    color: #fff;
    text-align: center;
    padding-top: 40px;
    padding-bottom: 40px;
}

.site-header h1 {
    margin: 0;
}

.header-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.header-content p {
    margin: 0;
}

.main-nav {
    background-color: #444;
    position: sticky;
    top: 0;
    z-index: 200;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    /* 平滑过渡 */
}

.main-nav ul {
    display: flex;
    justify-content: center;
    /* 主要导航项依然居中 */
    align-items: center;
    /* 垂直居中 */
    position: relative;
    /* 为绝对定位的 auth item 做准备 */
    width: 100%;
}

.main-nav li a {
    font-size: 1.15em;
    color: white;
    padding: 15px 20px;
    display: block;
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

.main-nav li a:hover {
    background-color: #525252af;
    text-decoration: none;
}

/* --- 认证按钮容器 li 的样式 --- */
.nav-auth-item {
    /* 使用绝对定位将其推到最右侧 */
    position: absolute;
    right: 0;

    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px 0;
}

/* --- 认证区域内元素的样式 --- */
.nav-welcome-msg {
    color: #e0e0e0;
    font-size: 0.9em;
    padding-right: 5px;
}

.nav-login-btn,
.nav-logout-btn {
    font-weight: 500;

    background-color: rgba(255, 255, 255, 0.1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 5px;
    padding: 6px 12px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.nav-login-btn:hover,
.nav-logout-btn:hover {
    background-color: rgba(255, 255, 255, 0.2);
}

/* --- 导航栏的紧凑模式 --- */
.main-nav.compact {
    background-color: rgba(95, 95, 95, 0.9);
    /* 可以变得更透明 */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}





/* --- 主体内容样式 --- */

.main-content {
    padding: 20px 60px;

}

.main-content h2 {
    text-align: left;
    margin: 30px 50px 20px 30px;
    text-align: left;
    margin-bottom: 30px;
    font-size: 2em;
}

.hero-section {
    text-align: center;
    padding: 120px 20px;
    margin-bottom: 30px;
    border-radius: 8px;
    color: white;
    background-image:
        linear-gradient(rgba(0, 0, 0, 0.5),
            rgba(0, 0, 0, 0.5)),
        url('../imgs/moon.jpg');
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;

    align-items: start;
    min-height: 400px;
    box-sizing: border-box;

    display: grid;
    grid-template-columns: 1fr 260px;
    /* 两列布局：第一列自动填充，第二列固定240px宽 */
    gap: 30px;
    /* 两列之间的间距 */
    align-items: center;
    /* 垂直居中 */

    position: relative;
    padding: 40px;
    /* 调整内边距 */
    min-height: 400px;
    border-radius: 8px;
    color: white;

    /* 背景图相关的样式保持，JS会动态修改它 */
    background-size: cover;
    background-position: center;
    transition: background-image 0.5s ease-in-out;
    overflow: hidden;
    /* 确保伪元素不会溢出 */


}

.hero-links-container {

    display: flex;
    flex-direction: column;
    /* 垂直排列 */
    gap: 15px;

    /* 关键：让其可滚动 */
    overflow-y: auto;
    overflow-x: hidden;
    /* 禁止横向滚动条 */
    /* 当内容溢出时，在Y轴方向显示滚动条 */

    /* 关键：让其高度撑满父元素 */
    max-height: 320px;
    align-self: stretch;

    /* 新增：美化滚动条 (适用于WebKit内核浏览器，如Chrome, Safari) */
    /* Firefox */
    scrollbar-color: rgba(255, 255, 255, 0.5) rgba(255, 255, 255, 0.1);
    /* Firefox */
    scrollbar-width: none;
    transition: scrollbar-width 0.3s;
    /* Firefox */

}

/* 隐藏 WebKit 滚动条但保留功能 */
.hero-links-container::-webkit-scrollbar {
    width: 0;
    /* 滚动条宽度 */
    background: transparent;
    transition: width 0.3s;
}

/* 悬浮时显示滚动条 */
.hero-links-container:hover {
    scrollbar-width: inherit;
    scrollbar-color: rgba(255, 255, 255, 0.5) rgba(255, 255, 255, 0.1);
}

.hero-links-container:hover::-webkit-scrollbar {
    width: 6px;
}

.hero-links-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    /* 轨道背景 */
    border-radius: 3px;
}

.hero-links-container::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.5);
    /* 滑块颜色 */
    border-radius: 3px;
}

.hero-links-container::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.7);
}

.hero-content {
    text-align: left;
    /* 欢迎语靠左 */
}

/* 整个英雄区的背景蒙层（保持不变） */
.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));
    z-index: 1;
}

/* --- 确保内容区和链接区在 z-index 上高于蒙层 --- */
.hero-content,
.hero-links-container {
    position: relative;
    z-index: 2;
}

.hero-content {
    text-align: left;
    /* 欢迎语靠左 */
}

/* --- 单个图片链接卡片样式 --- */
.hero-link-card {

    background-color: rgba(255, 255, 255, 0.1);
    /* 给一个非常淡的背景，让用户能感知到区域 */
    backdrop-filter: blur(5px);
    /* 轻微的毛玻璃效果 */
    -webkit-backdrop-filter: blur(5px);
    /*     border-radius: 6px; */

    flex-shrink: 0;

    width: 100%;
    height: 70px;
    padding: 20px;

    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;

    color: white;
    text-decoration: none;
    font-size: 1.2em;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);

    transition: background-color 0.3s ease, transform 0.3s ease;


}

.hero-link-card:hover {
    color: #1e88e5;
    background-color: rgba(255, 255, 255, 0.2);
    /* 悬浮时变亮一点 */
    transform: scale(1.03);
    /* 轻微放大效果 */
}

/* 为卡片也添加一个蒙层，保证文字清晰 */
/* .hero-link-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    z-index: 1;
} */

.hero-link-card span {
    position: relative;
    z-index: 2;
}

/* --- 英雄区总体样式 --- */

.hero-section h2,
.hero-section p {
    text-align: center;
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
}

.hero-section img {
    width: 100%;
    height: auto;
    max-width: 600px;
    margin: 0;
}

.featured-posts-container {
    display: flex;
    flex-wrap: wrap;
    /* 换行 */
    gap: 20px;
    justify-content: flex-start;
}

/* --- 卡片内容包裹器，为了让状态栏和标题能一起被定位 --- */
.card-content-wrapper {
    position: relative;
    z-index: 2;
    /* 确保在蒙层之上 */
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    /* 主内容（标题）依然靠下 */
}

/* --- 卡片状态栏样式 --- */
.card-statusbar {
    display: flex;
    gap: 12px;
    padding: 8px 0;
    /* 在标题上方留出空间 */
    font-size: 0.8em;
    font-weight: 500;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);

    transition: transform 0.35s ease-out;
}

.card-status-item {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    background-color: rgba(0, 0, 0, 0.2);
    /* 默认半透明背景 */
    border-radius: 10px;
    transition: all 0.3s ease;
}

/* --- 核心：高亮样式 --- */
.card-status-item.highlight {
    background-color: #ffc107;
    /* 醒目的黄色 */
    color: #333;
    /* 高亮时文字变深色 */
    text-shadow: none;
    /* 去掉文字阴影，使其更清晰 */
    font-weight: bold;
    transform: scale(1.1);
    /* 轻微放大效果 */
    box-shadow: 0 0 10px rgba(255, 193, 7, 0.7);
}

/* 调整卡片内标题的边距 */
.blog-card .post-head {
    margin: 0;
    transition: transform 0.35s ease-out;

}

/* --- 卡片摘要的默认样式 (隐藏状态) --- */
.card-summary {
    font-size: 0.9em;
    font-weight: normal;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    /* 保持和标题一样的阴影 */
    line-height: 1.5;
    margin-top: 10px;

    /* 动画关键属性：默认隐藏 */
    opacity: 0;
    transform: translateY(15px);
    /* 默认向下偏移一点 */
    transition: opacity 0.35s ease-out, transform 0.35s ease-out;
}

.card-summary h1,
.card-summary h2,
.card-summary h3,
.card-summary h4,
.card-summary h5,
.card-summary h6 {
    margin-top: 0px;
    margin-bottom: 0px;
    font-size: 1.0em;
}





/* 
    鼠标悬停时的联动动画效果
*/
.blog-card:hover .post-head {
    /* 标题向上移动，为摘要腾出空间 */
    transform: translateY(-30px);
}

.blog-card:hover .card-summary {
    /* 摘要淡入并向上移动到原位 */
    opacity: 1;
    transform: translateY(0);
}

.blog-card:hover .card-statusbar {
    /* 状态栏也稍微向上移动一点，或者保持不动，根据你的喜好 */
    transform: translateY(-5px);
}



.posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    /* ?? */
    gap: 20px;
}

.blog-card {
    width: calc(50% - 10px);
    min-height: 250px;
    margin-bottom: 0;

    background-size: cover;
    background-position: center;
    border-radius: 8px;
    color: white;

    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 20px;
    box-sizing: border-box;

    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
}

.blog-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.blog-card .blog.head h3 {
    margin: 0 0 10px 0;
    font-size: 1.5em;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
}

.blog-card {
    color: white;
    text-decoration: none;
}

.blog-card:hover {
    color: #ffffff;
    /* 鼠标悬停时的颜色 */
}

.blog-card p {
    text-indent: 0;
    /* 卡片内摘要不需要缩进 */
    margin: 0;
    font-size: 0.9em;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
}

/* 蒙层 */
.blog-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 50%);
    /* 底部深，顶部透明的渐变蒙层 */
    z-index: 1;
    /* 蒙层在背景之上 */
    transition: background 0.3s ease;
}

.blog-card:hover::before {
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.1) 60%);
}

.blog-card .post-head,
.blog-card p {
    position: relative;
    z-index: 2;
}

.blog-post {
    background-color: #fff;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    overflow: auto;
}

.post-head {
    top: 10%;
    margin: 5px 30px;
}

.post-head h3 {
    margin-top: 0;
    margin-bottom: 5px;
}

/* --- 文章列表标题可点击样式 --- */
.post-head h3 a {
    color: inherit;
    /* 继承父元素的颜色（黑色） */
    text-decoration: none;
}

.post-head h3 a:hover {
    color: #007BFF;
    /* 悬浮时变色 */
}

/* .post-meta {
    font-size: 0.8em;
    color: #888;
    margin-top: 0;
} */

/* --- 统一元信息容器 --- */
.post-meta-container {
    display: flex;
    flex-wrap: wrap;
    /* 允许换行，这是响应式的关键 */
    justify-content: space-between;
    /* 两端对齐 */
    align-items: center;
    padding: 10px 0;
    margin: 0 30px;
    /* 和 .post-actions 保持一致 */
    border-top: 1px solid #f0f0f0;
    border-bottom: 1px solid #f0f0f0;
    gap: 10px;
    /* 项目之间的最小间距 */
}

/* 详情页的元信息容器可以有更大间距 */
.post-meta-container.detail-view {
    padding: 15px 0;
    margin: 20px 0;
}

.post-category-link {
    font-weight: bold;
    color: #555;
    background-color: #f0f0f0;
    padding: 2px 6px;
    border-radius: 4px;
}

.post-category-link:hover {
    color: #555;
    background-color: #e0e0e0;
}

/* --- 基本元信息（左侧） --- */
.post-basic-meta {
    padding: 3px 8px;
    display: flex;
    flex-wrap: wrap;
    /* 允许内部也换行 */
    align-items: center;
    gap: 5px 10px;
    /* 垂直间距5px，水平间距10px */
    font-size: 0.85em;
    color: #777;
}

.meta-item.author {
    font-weight: bold;
}

/* --- 文章状态栏容器 --- */
.post-statusbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0;
    /* 移除之前的外边距 */
    padding: 0;
    /* 移除之前的内边距 */
    border: none;
    /* 和 .post-actions 保持一致的边距 */
    font-size: 0.9em;
    color: #888;
}

.statusbar-left,
.statusbar-right {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
    /* 内部元素间距 */
}

.status-item {
    display: flex;
    align-items: center;
    gap: 5px;
    /* 图标和数字的间距 */
}

/* 投票按钮 */
.vote-control {
    display: flex;
    align-items: center;
}

.vote-btn {
    background: none;
    border: none;
    background-color: #FFFFFFE6;
    cursor: pointer;
    pointer-events: auto;
    font-size: 1.2em;
    color: #aaa;
    transition: color 0.2s, transform 0.2s;
    padding: 0 5px;
}

.vote-btn:hover {
    color: #555;
    transform: scale(1.125);
}

.vote-btn.voted {
    color: #007BFF;
    /* 已投票的颜色 */
}

.vote-count {
    font-weight: bold;
    color: #333;
    min-width: 25px;
    /* 防止数字变化时布局抖动 */
    text-align: center;
}

/* --- 标签样式 --- */
.post-tag {
    /*     width: 100%; */
    white-space: nowrap;
    background-color: #eef2f7;
    color: #4a5568;
    padding: 3px 8px;
    border-radius: 12px;
    /* 胶囊形状 */
    font-size: 0.8em;
    text-decoration: none;
    transition: background-color 0.2s, color 0.2s;
}

.post-tag:hover {
    background-color: #dbe4f0;
    color: #2d3748;
}

/* 在详情页，状态栏可以有稍微不同的样式 */
.post-full-content .post-statusbar {
    margin: 10px 0;
    /* 上下边距更大 */
    padding: 15px 0;
}

.post-main p,
.post-full-content p {
    /*     text-indent: 2em; */
    padding-top: 3px;
    padding-left: 10px;
    padding-right: 10px;
    overflow-wrap: break-word;
    /* 允许在单词内部的任意位置换行 */
    word-break: break-word;
    /* 兼容性写法，两者通常一起使用 */
}

.post-meta.post-meta {
    text-indent: 0em;
}

.post-full-content {
    background-color: #fff;
    padding: 30px;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-top: 10px;
    overflow: auto;
}

.post-full-content h1 {
    margin-left: 10px;
    margin-bottom: 13px;
}

.post-full-content img {
    /*     width: 100%;
    height: auto;
    margin: 30px 0 30px 0;
    padding: 0; */
    max-width: 100%;
}

.post-image {
    /*     float: right; */
    display: block;
    padding: 10px;
    margin: 10px auto;
    max-width: 700px;
    width: 75%;
    height: auto;
    object-fit: cover;
}

.post-actions {
    /*     padding-top: 15px;
    margin-left: 30px; */
    /* 将按钮排列改为纵向 */
    /*     display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 10px; */
    /* 按钮之间的间距 */

    display: flex;
    /* 启用 Flexbox 布局 */
    justify-content: space-between;
    /* 两端对齐：展开按钮在左，管理按钮在右 */
    align-items: center;
    /* 垂直居中 */
    gap: 10px;
    padding-top: 20px;
    margin: 0 30px;
    /* 保持左右边距 */
    border-top: 1px solid #f0f0f0;
    /* 和状态栏形成分割 */
}

/* --- 2. 通用操作按钮样式 --- */
.action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 16px;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
    background-color: #f8f9fa;
    color: #333;
    font-size: 0.9em;
    font-weight: 500;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.action-btn:hover {
    border-color: #ccc;
    background-color: #f1f3f5;
}

.action-btn,
.read-more-btn {
    min-height: 40px;
    padding: 8px 16px;
    font-size: 0.95em;
    line-height: 1.2;
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.edit-btn .iconfont {
    font-size: 1em !important;
    line-height: 0.9em !important;
}

/* --- 展开按钮的特定样式和动画 --- */
.read-more-btn {
    flex-grow: 1;
    height: 100%;
    background-color: white;
    color: #007BFF;
    font-weight: bold;
    overflow: hidden;
    align-items: center;

}

.read-more-btn:hover {
    color: #185ec6;
    background-color: #f0f8ff;
}

.read-more-btn .icon-rightarrow {
    font-size: 1em !important;
    margin-left: 2px;
    height: 1.05em;
    display: inline-block;
    transition: transform 3s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    z-index: 2;
}

.read-more-btn:hover .icon-rightarrow {
    transform: translateX(768px);
    /* 鼠标悬浮时，箭头向右移动 */
}

/* --- 编辑者操作按钮容器 --- */
.editor-actions {
    display: flex;
    gap: 10px;
    flex-shrink: 0;
    /* 防止被压缩 */
}

/* 编辑者按钮的微调 */
.feature-btn:hover {
    color: rgb(209, 178, 0);
    background-color: #fffed3;
    border-color: rgb(255, 222, 38);
}

.edit-btn:hover {
    color: #333;
    background-color: #e9fef6;
    border-color: #91ffe0;
}

.delete-btn:hover {
    color: #cf1322;
    background-color: #fff1f0;
    border-color: #ffa39e;
}


/* --- 评论区整体 --- */
.comments-section {
    margin-top: 40px;
    border-top: 1px solid #eee;
    padding-top: 20px;
}

/* --- 评论项 --- */
.comment-item {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
    position: relative;
    /* 为连接线定位做准备 */

    /* 根据JS传来的CSS变量计算缩进 */
    margin-left: calc(var(--indent-level, 0) * 30px);



}

.comment-item.is-reply {
    position: relative;
    /*     max-height: 1000px; */
    /* 给一个足够大的值 */
    opacity: 1;
    transform: translateY(0);
    overflow: hidden;
    transition: all 0.4s ease;
    margin-top: 20px;
    margin-bottom: 20px;

}

.comment-item.is-reply.collapsed {
    max-height: 0;
    opacity: 0;
    transform: translateY(-10px);
    margin-top: 0;
    margin-bottom: 0;
    padding-top: 0;
    /* 如果有padding，也一并移除 */
    padding-bottom: 0;
    border: none;
    /* 隐藏时也去掉边框 */
}

/* --- 绘制层级连接线 --- */
.comment-item.is-reply::before {
    content: '';
    position: absolute;
    left: -20px;
    /* 定位到头像左侧 */
    top: -10px;
    bottom: 50%;
    /* 线条的垂直范围 */
    width: 2px;
    background-color: #e0e0e0;
}

/* --- 水平连接线 (拐角) --- */
.comment-item.is-reply::after {
    content: '';
    position: absolute;
    top: 50%;
    /* 对齐到头像的中心位置 */
    left: -20px;
    /* 和垂直线在同一直线上 */
    width: 15px;
    /* 水平线的长度 */
    height: 2px;
    background-color: #e0e0e0;
}

/* --- 折叠按钮样式 --- */
.collapse-thread-btn {
    background: none;
    border: none;
    color: #aaa;
    cursor: pointer;
    font-weight: bold;
    font-family: monospace;
    /* 让[+]和[-]看起来更像代码 */
    font-size: 1.5em;
    margin-left: 10px;
}

.collapse-thread-btn:hover {
    color: #007BFF;
}

/* --- 回复的样式 (带缩进) --- */
.replies-container {
    margin-top: 20px;
    padding-left: 0;
    border-left: none;
}

.comment-item.is-reply {
    margin-bottom: 20px;
    /* 回复的间距可以小一点 */
}

/* --- 头像 --- */
.comment-avatar {
    width: 40px;
    height: 40px;
    background-color: #007BFF;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.2em;
    flex-shrink: 0;
    /* 防止头像被压缩 */
}

/* --- 评论主体 --- */
.comment-body {
    flex-grow: 1;
}

.comment-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    font-size: 0.9em;
    color: #666;
}

.comment-author {
    font-weight: bold;
    color: #333;
}

.comment-text {
    line-height: 1.6;

}

.comment-text p {
    margin: 0 0 10px 0;
    /* Markdown生成的p标签样式 */
    text-indent: 0;
    /* 评论不需要首行缩进 */
}

/* --- 评论操作栏 --- */
.comment-actions {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-top: 8px;
    font-size: 0.85em;
    color: #888;
}

.comment-actions button {
    background: none;
    border: none;
    color: inherit;
    cursor: pointer;
    padding: 0;
}

.comment-actions button:hover {
    color: #007BFF;
}

/* 评论投票 */
.comment-vote-control {
    display: flex;
    align-items: center;
    gap: 5px;
}

.comment-vote-btn {
    font-size: 1.1em;
}

.comment-vote-btn.voted {
    color: #007BFF;
}

.comment-vote-count {
    font-weight: bold;
}

/* --- 评论表单 --- */
.comment-form-wrapper {
    margin-top: 30px;
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
}

.comment-form-wrapper h4 {
    /* 标题样式 */
    margin-top: 0;
    margin-bottom: 15px;
}

.comment-form-wrapper textarea {
    width: 100%;
    min-height: 80px;
    padding: 12px 14px;
    font-size: 1em;
    border: 1.5px solid #cfd8dc;
    border-radius: 8px;
    box-sizing: border-box;
    resize: vertical;
    background: #f9fbfd;
    color: #333;
    transition: border-color 0.2s, box-shadow 0.2s;
    outline: none;
}

.comment-form-wrapper textarea:focus {
    border-color: #007BFF;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.13);
    background: #fff;
}

.comment-form-wrapper textarea::placeholder {
    color: #b0b8c1;
    font-style: italic;
    opacity: 1;
}

.comment-form-wrapper textarea:hover {
    border-color: #90caf9;
    background: #f4faff;
}

.comment-form-wrapper button[type="submit"] {
    padding: 8px 20px;
    background-color: #2196F3;
    /* 绿色，表示“创建” */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s;

    margin-right: 10px;
}

.comment-form-wrapper button[type="button"] {
    /* 取消按钮的样式 */
    background-color: transparent;
    color: #666;
    border: none;
}

.comment-form-wrapper-form button[type="submit"]:hover {
    background-color: #007BFF;
}

.comment-form-wrapper button[type="button"]:hover {
    color: #333;
}


/* archive */

/* --- 归档页排序和搜索容器 --- */
.sort-and-search-controls {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    padding: 10px;
    /*     background-color: #f8f9fa; */
    border-radius: 8px;
    /*     margin-bottom: 20px; */
    /*     border: 1px solid #e9ecef; */

}

.sort-and-search-controls .search-container {
    align-items: center;
    flex-grow: 1;
    min-width: 200px;
    /* 保证最小宽度 */
    /* 让搜索框占据更多空间 */
    margin-bottom: 0;
}

.sort-container {
    display: flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
    /* 防止标签换行 */
}

#add-filter-btn {
    height: 40px;
    padding: 8px 12px;
    font-size: 1.2em;
    line-height: 1;

}



#sort-by-select,
#order-by-select {
    height: 40px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: white;

    box-sizing: border-box;
    font-size: 0.95em;
    /* 保证字体大小一致 */
    vertical-align: middle;
    /* 兼容性写法 */
}


/* --- 粘性筛选区容器 --- */
#archive-filters-sticky-wrapper,
#management-filters-wrapper {

    position: sticky;
    top: 50.31px;

    /*     top: 101.44px;
    /* 粘性导航栏的高度 */
    /*     将粘性导航栏盖住 */

    background-color: rgba(244, 244, 244, 0.9);
    /* 和页面背景色一致的半透明色 */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    padding-top: 10px;
    padding-bottom: 10px;
    z-index: 99;
    /* 比导航栏低，比内容高 */
    margin: 0 -60px;
    /* 关键：抵消 .main-content 的左右 padding，实现通栏效果 */
    padding-left: 60px;
    /* 再把内边距加回来，让内容对齐 */
    padding-right: 60px;

    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    /*     overflow: hidden;  */

}

#management-filters-wrapper {
    /* 这里可以设置成粘性或普通布局 */
    position: sticky;
    top: 50.31px;
    /* 假设与归档页粘性导航栏高度一致 */
    background-color: rgba(255, 255, 255, 0.95);
    /* 用白色背景与工作区更搭 */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    padding: 15px;
    margin: -20px -30px 20px -30px;
    /* 抵消父元素的padding，实现通栏效果 */
    padding-left: 30px;
    padding-right: 30px;
    z-index: 90;
    border-bottom: 1px solid #eee;

}

#archive-filters-sticky-wrapper .workspace-tabs,
#management-filters-wrapper .workspace-tabs {
    /*     border-bottom: 2px solid #ddd; */
}

#management-filters-wrapper .filter-status-container {
    background-color: rgba(0, 0, 0, 0.05);
}

/* --- 调整内部元素的边距 --- */
#archive-filters-sticky-wrapper .archive-tabs {
    margin-bottom: 15px;
}

#archive-filters-sticky-wrapper.collapsed,
#management-filters-wrapper.collapsed {
    /* 关键：向上移动自身高度减去触发条的高度，实现“收起”效果 */
    /* 假设触发条高度为 20px */
    transform: translateY(calc(-100%));
}

/* --- 收起/展开触发器样式 --- */
.sticky-handle-wrapper {
    position: absolute;
    /* 让它“挂”在粘性容器的底部 */
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    /* 让包裹器占满父容器宽度，方便内部元素居中 */
    display: flex;
    justify-content: center;
}

.sticky-handle-wrapper.top {
    bottom: auto;
    top: -20px;

}

.sticky-handle-wrapper.bottom {
    bottom: -20px;
    top: auto;
}



.sticky-handle {
    height: 20px;

    /* 设置新的宽度规则 */
    min-width: 120px;
    /* 最小宽度 */
    max-width: 200px;
    /* 最大宽度 */
    width: 30%;
    /* 理想宽度为父容器的30% */

    background-color: rgba(240, 240, 240, 0.4);
    /* 使用更浅的、半透明的背景 */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);


    border: none;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;

    transition: all 0.2s;

    border-radius: 0;
    color: rgba(0, 0, 0, 0.368);
}

.sticky-handle.bottom {
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
}

.sticky-handle.top {

    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}

.collapsed .sticky-handle .iconfont {
    transform: rotate(180deg);
}

.sticky-handle:hover {
    background-color: rgba(220, 220, 220, 0.8);
    /* 悬浮时背景变深一点 */
    color: #333;
    width: 35%;
    max-width: 240px;
}

.sticky-handle .iconfont {
    transition: transform 0.4s ease;
    color: inherit;
}

/* 当容器收起时，让箭头翻转 */
.collapsed .sticky-handle .iconfont {
    transform: rotate(180deg);
}

.sticky-handle.is-hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

/* #archive-filters-sticky-wrapper .search-container {
    margin-bottom: 10px;
} */


/* 搜索与标签筛选 */
.search-container {
    position: relative;
    margin-bottom: 30px;
}


/* --- 高级搜索命令构建器 --- */
.advanced-search-builder {
    display: flex;
    flex-wrap: wrap;
    /* 关键：允许子元素在空间不足时换行 */
    gap: 10px;
    align-items: stretch;
    /* 让所有项目等高 */
    padding: 15px;
    min-width: 300px;
    /* 在小屏幕上可以减小最小宽度 */

    position: absolute;
    top: calc(100% + 5px);
    /* 显示在搜索框正下方 */
    left: auto;
    right: 0;
    width: auto;
    min-width: 300px;
    max-width: 500px;

    background-color: white;
    border: 1px solid #ccc;
    border-top: none;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    border-radius: 8px;
    padding: 20px;
    z-index: 1001;
    display: flex;
    gap: 10px;
    align-items: center;

    opacity: 0;
    transform: translateY(-10px);
    animation: slideInDown 0.3s forwards;

}


/* 动画定义 */
@keyframes slideInDown {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#adv-search-input {
    flex-grow: 1;

}

.adv-search-group {
    display: flex;
    gap: 10px;
    flex-grow: 1;
    /* 让这个组占据主要空间 */
    flex-basis: 200px;
    /* 给它一个基础宽度，有助于换行决策 */
    min-width: 0;
    /* 关键：允许它被无限压缩，突破其内容的最小宽度限制 */

}



.advanced-search-builder select,
.advanced-search-builder input {
    width: 100%;
    flex-grow: 1;
    min-width: 80px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 0.9em;
    box-sizing: border-box;
}

.advanced-search-builder input {
    padding: 8px 12px;
}

/* 按钮组 */
.adv-search-actions {
    display: flex;
    gap: 10px;
    width: 100%;
    flex-basis: 100%;
    /* 在换行后，让按钮组占满整行 */
    justify-content: flex-end;
    /* 按钮靠右 */
}

.adv-search-actions button {
    width: auto;
    white-space: nowrap;
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

/* ? */

#search-input {
    width: 100%;
    padding: 8px 12px;
    font-size: 0.95em;
    border: 1px solid #ddd;
    border-radius: 5px;
    vertical-align: middle;

    flex: 1;
    height: 40px;
    /* 可根据 .sort-container 内按钮高度调整 */
    box-sizing: border-box;
    margin-left: 0;
    transition: border-color 0.2s, box-shadow 0.2s;
}


#search-input:focus {
    outline: none;
    border-color: #007BFF;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
}

.search-highlight {
    color: #0056b3;
    font-weight: bold;
}

.filter-status-container {
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 5px;
    /*     margin-top: 10px;
    margin-bottom: 10px;
 */
    /* 动画属性 */

    transition: opacity 0.4s ease, transform 0.4s ease, max-height 0.05s ease, padding 0.5s ease, margin 0.5s ease;
    opacity: 1;
    transform: translateY(0);
    visibility: visible;
    display: flex;
    max-height: 100px;

    transform-origin: top;
    overflow: hidden;
}

.filter-status-container.hidden {
    opacity: 0;
    transform: translateY(-10px);
    ;
    /* 增加一个垂直缩放的动画效果 */
    visibility: hidden;
    /* 使用 visibility 替代 display:none 来支持动画 */
    border: none;
    /* 隐藏时也去掉边框 */

    max-height: 0;
    padding-top: 0;
    padding-bottom: 0;
    margin-top: 0;
    margin-bottom: 0;
}

.active-filter-tag {
    display: inline-flex;
    align-items: center;
    background-color: #007BFF;
    color: white;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 0.9em;
}

.filter-pills-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

/* --- 通用筛选胶囊样式 --- */
.filter-pill {
    display: inline-flex;
    align-items: center;
    background-color: #e9ecef;
    color: #495057;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 0.9em;
    font-weight: 500;
}

.filter-pill .pill-field {
    font-weight: bold;
    text-transform: capitalize;
    /* 首字母大写 */
    margin-right: 4px;
}

.filter-pill .pill-operator {
    color: #007BFF;
    font-weight: bold;
    margin-right: 4px;
}

/* --- 特定字段的胶囊颜色 --- */
.filter-pill-tag {
    background-color: #e0f2f1;
    /* 标签用绿色系 */
    color: #004d40;
}

.filter-pill-votes {
    background-color: #fff3e0;
    /* 投票用橙色系 */
    color: #e65100;
}

.filter-pill-views {
    background-color: #e3f2fd;
    /* 浏览用蓝色系 */
    color: #0d47a1;
}

.remove-filter-btn {
    background: none;
    border: none;
    color: white;
    font-weight: bold;
    margin-left: 8px;
    cursor: pointer;
}

.remove-pill-btn {
    background: none;
    border: none;
    color: #6c757d;
    font-weight: bold;
    margin-left: 8px;
    cursor: pointer;
    line-height: 1;
    padding: 0;
}

.remove-pill-btn:hover {
    color: #dc3545;
}

/* 上下文预览的样式  */
.context-preview {
    color: #555;
    font-style: italic;
    border-left: 3px solid #ddd;
    padding-left: 15px !important;
    /* !important 用来覆盖 p 的通用 padding */
    text-indent: 0 !important;
    /* 覆盖 p 的首行缩进 */
    margin-top: 10px;
}

/*workspace*/
/*--- 工作区标签页样式 ---*/

.workspace-tabs {
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    /* 禁用换行 */

    display: flex;
    /*     border-bottom: 2px solid #ddd; */
    margin-top: 5px;
    margin-bottom: 15px;

    scrollbar-width: none;
}



.workspace-tab {
    width: 100%;
    padding: 5px 20px;
    border: none;
    background-color: transparent;
    cursor: pointer;
    font-size: 1.1em;
    color: #555;
    border-bottom: 2px solid rgba(119, 119, 119, 0.123);
    /* 预留底部边框位置 */
    /* 让活动标签的边框与容器边框重合 */
    transition: color 0.2s ease, border-color 0.2s ease;
}

/* 横向滚动条美化，仅作用于 workspace-tabs */
.workspace-tabs::-webkit-scrollbar {
    height: 0;
    background: transparent;
    transition: height 0.3s;
}

/* 悬浮时显示滚动条 */
.workspace-tabs:hover {
    scrollbar-width: inherit;
    scrollbar-color: #b3d1ff #f0f5ff;
}

.workspace-tabs:hover::-webkit-scrollbar {
    height: 6px;
    background: #f0f5ff;
}

.workspace-tabs::-webkit-scrollbar-thumb {
    background: #b3d1ff;
    border-radius: 3px;
}

.workspace-tabs::-webkit-scrollbar-thumb:hover {
    background: #007BFF;
}

.workspace-tabs::-webkit-scrollbar-track {
    background: #f0f5ff;
    border-radius: 3px;
}

/* Firefox 支持 */
.workspace-tabs {
    scrollbar-width: none;
    transition: scrollbar-width 0.3s;
}

.workspace-tabs:hover {
    scrollbar-width: inherit;
}

.workspace-tab:hover {
    color: #007BFF;
}

.workspace-tab.active {
    color: #007BFF;
    font-weight: bold;
    border-bottom-color: #007BFF;

    /* 新增：让它在层叠上下文(stacking context)中“上浮” */
    position: relative;
    z-index: 1;

}

/* --- 让工作区的筛选器复用归档区的样式 --- */


/* 复用 workspace-tabs 的样式 */
/* .management-tabs {
    margin-bottom: 15px;
} */




.post-stats {
    font-size: 0.85em;
    color: #555;
    display: flex;
    flex-direction: row;
    align-items: center;
    margin: 0 auto;
    /* 垂直排列 */
    gap: 3px;
}

/* --- 工作区内容面板控制 --- */
.workspace-section {
    background-color: #fff;
    padding: 20px 30px;
    border-radius: 8px;
    border: 1px solid #e9e9e9;
    margin-bottom: 30px;
    display: none;
    /* 默认所有面板都隐藏 */
    animation: fadeIn 0.5s ease-out;
    /* 添加一个淡入动画 */
}

.workspace-section h2 {
    margin-top: 20px;
    /*     border-bottom: 1px solid #eee; */
    padding-bottom: 15px;
    margin-bottom: 20px;
}

.workspace-section.active {
    display: block;
    /* 只有带 active 类的面板才显示 */
}

/* 淡入动画定义 */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* --- 分区管理  --- */
.category-list-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}

.category-item {
    display: flex;
    align-items: center;
    background-color: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 15px;
    /* 胶囊形状 */
    padding: 5px 12px 5px 12px;
    font-size: 0.9em;
    color: #333;
}

.category-item span {
    font-weight: 500;
    padding-top: 0px;
}

.edit-category-input {
    border: 1px solid #90caf9;
    border-radius: 4px;
    background: #f4faff;
    outline: none;
    transition: border-color 0.2s;
}

.edit-category-input:focus {
    border-color: #007BFF;
    background: #fff;
}

.delete-category-btn {
    background: none;
    border: none;
    color: #999;
    cursor: pointer;
    font-weight: bold;
    padding: 0 0 1px 10px;
    margin-left: 5px;
    transition: color 0.2s;
}

.delete-category-btn:hover {
    color: #e53e3e;
    /* 红色 */
}

/* 行内表单样式 */
.inline-form {
    display: flex;
    gap: 10px;
}

.inline-form input[type="text"] {
    flex-grow: 1;
    /* 占据剩余空间 */
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.inline-form button {
    padding: 8px 20px;
    background-color: #28a745;
    /* 绿色，表示“创建” */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.inline-form button:hover {
    background-color: #218838;
}

/* 文章管理 */

#post-management-table td {
    vertical-align: top;
    /* 让内容从顶部对齐 */
    padding: 15px;
}

.post-info-cell {
    width: 40%;
    /* 信息区占40% */
}

.post-controls-cell {
    width: 60%;
    /* 操作区占60% */
}

.post-management-table-container {
    overflow-x: auto;
    /* 在小屏幕上，让表格可以横向滚动 */
}

/* --- 表格整体样式 --- */
#post-management-table {
    width: 100%;
    border-collapse: collapse;
    /* 合并边框 */
    font-size: 0.9em;
}

#post-management-table th,
#post-management-table td {
    padding: 12px 15px;
    text-align: center;
    border-bottom: 1px solid #eee;
    vertical-align: middle;
}

/* --- 卡片网格布局 --- */
.post-management-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(390px, 1fr));
    gap: 20px;
}

/* --- 单个管理卡片容器 --- */
.management-card {
    background-color: #fff;
    border-radius: 12px;
    border: 1px solid #e9ecef;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    /* 确保圆角生效 */
}

.management-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
}

/* 复用的 .blog-card 样式调整 */
.management-card .blog-card {
    width: 100%;
    height: 180px;
    border-radius: 8px 8px 0 0;
    /* 只保留上方圆角 */
    border: none;
    box-shadow: none;
    cursor: default;
    /* 常规模式下，它不是一个真正的链接 */
}

/* 多选模式下的覆盖层 */
.selection-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 123, 255, 0);
    /* 默认透明 */
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background-color 0.3s;
    opacity: 0;
    pointer-events: none;
}

.selection-checkmark {
    font-size: 50px;
    color: white;
    transform: scale(0.5);
    opacity: 0;
    transition: transform 0.3s, opacity 0.3s;
}

/* --- 操作区样式 --- */
.management-controls {
    padding: 15px 20px;
    display: flex;
    background-color: #fdfdfd;
    flex-direction: column;
    gap: 12px;
}



/* 显示多选覆盖层 */
.multi-select-mode .blog-card {
    cursor: pointer;
}

.multi-select-mode .blog-card .selection-overlay {
    opacity: 1;
    pointer-events: auto;
}

/* 卡片被选中时的样式 */
.multi-select-mode .management-card.selected .blog-card .selection-overlay {
    background-color: rgba(0, 123, 255, 0.6);
}

.multi-select-mode .management-card.selected .selection-checkmark {
    opacity: 1;
    transform: scale(1);
}

/* --- 多选操作区 --- */
.multiselect-actions {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-grow: 1;
    /* 占据剩余空间 */
    justify-content: flex-end;
    /* 靠右对齐 */
    border-right: 2px solid #e0e0e0;
    padding-right: 15px;
    margin-right: 15px;

}

.multiselect-primary-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-grow: 1;
    justify-content: flex-end;

}

.footer-toolbar .selection-count {
    color: #007BFF;
    pointer-events: none;
}

/* 二级操作界面的标签 */
.action-label {
    font-weight: 500;
    color: #555;
}

/* 二级操作界面的输入控件 */
#bulk-category-select,
#bulk-tags-input {
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 0.9em;
}

#bulk-tags-input {
    min-width: 200px;
    /* 给一个最小宽度 */
}


/* 左栏：标题和元数据 */
.info-wrapper .post-title-link {
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
    display: block;
    margin-bottom: 10px;
}

.info-wrapper .post-stats {
    display: flex;
    gap: 15px;
    font-size: 0.9em;
    color: #777;
}

/* 右栏：操作控件 */
.controls-wrapper {
    display: flex;
    flex-direction: column;
    /* 垂直排列各个操作组 */
    gap: 15px;
}

.control-group {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 0;
    border-bottom: 1px dashed #f0f0f0;
}

.control-group:last-child {
    border-bottom: none;
}

.control-group label {
    font-weight: 500;
    width: 50px;
    /* 固定标签宽度，让控件对齐 */
    flex-shrink: 0;
}

.control-group label:first-child {
    font-weight: 500;
    color: #555;
    width: 60px;
    /* 统一标签宽度 */
    flex-shrink: 0;
}

/* --- 标签编辑样式 --- */
.tags-control {
    align-items: flex-start;
    /* 让label和内容区顶部对齐 */
}

.tags-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    flex-grow: 1;
}

.tag-item {
    display: inline-flex;
    align-items: center;
    background-color: #eef2f7;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.9em;
}

.delete-tag-btn {
    background: none;
    border: none;
    cursor: pointer;
    margin-left: 5px;
    color: #999;
}

.delete-tag-btn:hover {
    color: #e53e3e;
}

.add-tag-input {
    border: 1px dashed #ccc;
    padding: 4px 8px;
    border-radius: 4px;
    width: 100px;
    /* 给一个初始宽度 */
}

/* --- 分区/标签项通用样式 --- */
.category-item,
.tag-item {
    position: relative;
    /* 为图标定位做准备 */
    padding-right: 5px;
    /* 给右侧图标留出空间 */
    transition: background-color 0.2s ease;
}

/* --- 图标按钮通用样式 --- */
.icon-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: #999;
    padding: 6px;
    font-size: 1.1em;
    /* 让图标稍微大一点 */
    line-height: 1;
    /* 确保垂直对齐 */
    opacity: 1;
    /* 默认完全透明，隐藏 */
    transition: opacity 0.2s ease, color 0.2s ease;
}

.category-item:hover .icon-btn,
.tag-item:hover .icon-btn {
    opacity: 1;
    /* 鼠标悬浮在整个胶囊上时，显示图标 */
}

.icon-btn:hover {
    color: #007BFF;
    /* 悬浮在图标上时变色 */
}

.delete-category-btn:hover,
.delete-tag-btn:hover {
    color: #e53e3e;
    /* 删除按钮用红色 */
}

/* 编辑输入框样式 */
.edit-inline-input {
    border: 1px solid #007BFF;
    border-radius: 4px;
    padding: 2px 6px !important;
    outline: none;
    font-size: inherit;
    /* 继承父元素的字体大小 */
    font-family: inherit;
    width: 100px;
    /* 给一个合适的宽度 */
}

.adder-item {
    padding: 5px !important;
    background-color: transparent;
    border-radius: 15px !important;
}

.add-new-btn {
    align-items: center;
    max-height: 1em;
    width: 100%;
    background: none;
    border: none;
    font-size: 1.5em;
    line-height: 0;
    color: #aaa;
    cursor: pointer;
    transition: color 0.2s, background-color 0.2s;
}

.add-new-btn:hover {
    background-color: #f0f8ff;
    color: #007BFF;
}

/* --- 通用可编辑项样式 --- */
.editable-item,
.tag-item {
    position: relative;
    /* 关键：成为 .item-actions 绝对定位的锚点 */
    display: block;
    /* 不再是flex容器 */
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 15px;
    padding: 5px 12px;
    font-size: 0.9em;
    color: #333;
    position: relative;
    /* 为图标定位做准备 */
    transition: background-color 0.2s ease;
    overflow: visible;
    /* 允许绝对定位的子元素“溢出” */
}

/* --- 项目名称样式 --- */
.item-name {
    display: block;
    flex-grow: 1;
    /* 让名称占据所有可用空间 */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    /* 如果名称太长，用省略号显示 */
    transition: padding-right 0.3s ease;
    /* 为右侧内边距添加过渡 */

}

/* --- 按钮容器样式 --- */
.item-actions {
    position: absolute;
    top: 50%;
    right: 5px;
    transform: translateY(-50%);
    /* 垂直居中 */

    display: flex;

    align-items: center;
    /* flex-shrink: 0; */
    /* 防止按钮被压缩 */
    /*     margin-left: 8px; */
    /* 和名称之间留出间距 */
    background-color: #f8f9fa;
    /* 给一个背景色，让它看起来像浮在上面 */
    border-radius: 15px;
    /* 胶囊形状 */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);

    /* 默认隐藏状态 */
    opacity: 0;
    transform: translateY(-50%) translateX(10px);
    /* 在垂直居中的基础上，向右偏移一点 */
    pointer-events: none;
    transition: opacity 0.2s ease, transform 0.2s ease;
}

/* --- 悬浮时显示操作区 --- */
.editable-item:hover .item-actions,
.tag-item:hover .item-actions {
    opacity: 1;
    transform: translateY(-50%) translateX(90%);
    /* 回到原位 */
    pointer-events: auto;
    z-index: 1002;
}

/* --- 关键：悬浮时，为文字腾出空间 --- */
.editable-item:hover .item-name,
.tag-item:hover .item-name {
    /* 当按钮出现时，给右侧增加padding，防止文字被按钮遮挡 */
    /* padding-right: 60px; */
    /* 这个值约等于按钮组的总宽度 */

}

.editable-item:hover,
.tag-item:hover {
    background-color: #f1f3f5;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

/* 覆盖之前写的 hover 效果，让图标只在悬浮时显示 */
/* .editable-item .icon-btn,
.tag-item .delete-tag-btn {
    
    opacity: 0;
    transition: opacity 0.2s;
}

.editable-item:hover .icon-btn,
.tag-item:hover .delete-tag-btn {
    opacity: 1;
} */

/* 表头样式 */
#post-management-table thead {
    background-color: #f8f9fa;
    color: #555;
    font-weight: bold;
}

/* 表格行悬浮效果 */
#post-management-table tbody tr:hover {
    background-color: #fdfdfd;
}

/* --- 表格内的控件样式 --- */
#post-management-table .category-select {
    border: 1px solid #ddd;
    border-radius: 4px;
}

/* 精选开关的样式 (一个漂亮的纯CSS开关) */
.switch {
    position: relative;
    display: inline-block;
    width: 40px !important;
    height: 22px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: background-color 0.4s;
    transition: .4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: transform 0.4s, box-shadow 0.2s;
    transition: .4s;
}

/* --- 添加 :hover 效果 --- */
.switch:hover .slider {
    background-color: #bbb;
    /* 悬浮时，背景变深一点 */
}

.switch:hover input:checked+.slider {
    background-color: #1e88e5;
    /* 选中状态下，悬浮时颜色也加深一点 */
}

.switch:hover .slider:before {
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
    /* 悬浮时，给滑块加一个光晕效果 */
}

input:checked+.slider {
    background-color: #2196F3;
}

input:checked+.slider:before {
    transform: translateX(18px);
}

.slider.round {
    border-radius: 22px;
}

.slider.round:before {
    border-radius: 50%;
}

/* 操作按钮 */
/* .edit-btn {
    color: #007BFF;
    margin-left: 10px;
} */

/* .edit-btn:hover {
    text-decoration: underline;
}
 */
/* 操作按钮容器横向排列、居中 */
#post-management-table .action-btn-group {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
}

/* 操作按钮样式统一 */
#post-management-table .action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 14px;
    border-radius: 5px;
    border: 1px solid #e0e0e0;
    background-color: #f8f9fa;
    color: #333;
    font-size: 0.92em;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.18s;
    min-width: 32px;
    min-height: 32px;
    box-sizing: border-box;
    text-decoration: none;
    /* 关键：重置字体和行高 */
    font-family: inherit;
    line-height: 1.2;
    vertical-align: middle;
}

#post-management-table .action-btn:active,
.action-btn:active {
    outline: none;
}

#post-management-table .action-btn:focus,
.action-btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px #b3d1ff;
}

#post-management-table .action-btn:hover {
    border-color: #b3d1ff;
    background-color: #eaf4ff;
    color: #007BFF;
}

#post-management-table .action-btn.delete-btn:hover {
    background-color: #fff1f0;
    border-color: #ffa39e;
    color: #cf1322;
}

/* 文章管理页面的“写新文章”按钮 */
.add-new-post-btn {
    float: right;
    font-size: 0.6em;
    font-weight: normal;
    background-color: #007BFF;
    color: white;
    padding: 10px 12px;
    border-radius: 10px;
    text-decoration: none;
    transition: background-color 0.2s;
}

.add-new-post-btn:hover {
    background-color: #0056b3;
    color: white;
}

.editor-pane {
    width: 100%;
    margin-bottom: 20px;
}

/* 文章编辑器 */

#new-post-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    /* 表单项之间的垂直间距 */
}

#new-post-form input[type="text"],
#new-post-form select {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box;
    font-size: 1em;
}


/* 编辑器选择器 */
.editor-choice-wrapper {
    background-color: #f8f9fa;
    padding: 10px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.editor-choice-wrapper label {
    width: 100px;
}

/* 退出编辑按钮 */
.exit-edit-btn {
    /*     color: #888;
    font-size: 0.9em;
    height: 28px; */
}

.exit-edit-btn:hover {
    color: #e53e3e;
}

/* 状态栏 (右下角显示字数统计) */
.editor-statusbar {
    color: #888;
    font-size: 0.8em;
}

.preview-controls-and-area {
    border-top: 1px solid #eee;
    padding-top: 20px;
}


#toggle-preview-btn {
    background-color: #f0f5ff;
    color: #0056b3;
    border: 1px solid #b3d1ff;
    border-radius: 6px;
    padding: 8px 16px;
    font-size: 0.9em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    /* 图标和文字的间距 */
}

#toggle-preview-btn:hover {
    background-color: #e0ecff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

#toggle-preview-btn .icon {
    transition: transform 0.3s ease;
    /* 为图标添加旋转动画 */
}

#toggle-preview-btn.active .icon {
    transform: rotate(180deg);
    /* 图标向上翻转 */
}

.preview-pane {
    background-color: #fafafa;
    border: 1px solid #e9e9e9;
    border-radius: 8px;

    /* 动画：使用 grid 来实现高度从0到auto的平滑过渡 */
    display: grid;
    grid-template-rows: 0fr;
    /* 默认内容高度为0，被隐藏 */
    transition: grid-template-rows 0.4s ease-out;
    /*  监听内容高度变化，并更新动画效果 */
    overflow: hidden;

}

.preview-pane .post-full-content {
    padding: 0;
    margin-top: 0;
    transition: 0.4s ease-out, margin 0.4s ease-out;
    overflow: hidden;
}

.preview-pane.active {
    grid-template-rows: 1fr;
    /* 当有.active类时，内容高度展开为1份，即auto */

}

.preview-pane.active .post-full-content {
    padding: 30px;
    margin-top: 10px;
}

.preview-pane>div {
    min-height: 0;
}


#preview-title {
    overflow-wrap: break-word;
    word-break: break-word;
}



/* 工具栏页脚 */

.footer-toolbar {

    position: sticky;
    /* 粘性定位 */
    bottom: 0;
    /* 粘在底部 */
    left: 0;
    width: 80%;
    max-width: 960px;
    margin: 0 auto;
    /* 工具栏居中显示 */
    justify-content: space-between;
    /*     align-items: center;
    display: flex; */
    flex-direction: row;
    padding: 10px 10px;
    /* 物件位置调整 */
    background-color: rgba(255, 255, 255, 0.8);
    /* 半透明背景，有现代感 */
    backdrop-filter: blur(10px);
    /* 毛玻璃效果 (主流浏览器支持) */
    -webkit-backdrop-filter: blur(10px);
    /* 兼容Safari */
    border-top: 1px solid #e0e0e0;
    z-index: 1000;
    /* 确保在最顶层 */
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);

}

/* --- 新增：底部工具栏收起状态 --- */
.footer-toolbar.collapsed {
    /* 向下移动自身高度减去触发条的高度 */
    transform: translateY(calc(100%));

}

.toolbar-content {
    display: flex;
    flex-wrap: wrap;
    /* 允许换行 */

    max-width: 960px;
    /* 和你的主内容区宽度保持一致 */
    margin: 0 auto;
    padding: 10px;
    display: flex;
    justify-content: flex-end;
    /* 按钮靠右对齐 ?*/
    align-items: center;
    gap: 10px;
    /* 按钮之间的间距 */
    white-space: nowrap;
    /*禁止换行*/
}

.toolbar-editor-actions {
    display: flex;
    /* 自身也是一个Flex容器 */
    /* 关键：让这个组在换行后，宽度占满整行 */
    gap: 10px;
    /* 组内按钮的间距 */
}

.toolbar-btn {
    background-color: rgba(255, 255, 255, 0.2);
    /* 关键：白色半透明背景 */
    border: transparent;
    /* 同样使用半透明边框 */
    color: #333;
    /* 文字颜色需要更深一些以保证对比度 */

    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 500;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 6px;

    flex-shrink: 0;
    white-space: nowrap;
}

.toolbar-btn:hover {
    background-color: rgba(180, 180, 180, 0.265);
    /* 悬浮时变得更“亮”一点 */
    border-color: rgba(255, 255, 255, 0.5);
}

.toolbar-btn.primary {

    background-color: rgba(79, 164, 255, 0.811);
    /* 使用带透明度的品牌色 */
    color: white;
    border-color: rgba(0, 123, 255, 0);
    /* 边框可以设为透明 */
}

.toolbar-btn.primary:hover {
    background-color: rgba(0, 123, 255, 1);
    /* 悬浮时变为不透明 */
}

#publish-status {
    display: flex;
    align-items: center;
    text-align: center;
    margin: auto 0;
    padding: 10px 10px;
    font-size: 1.1em;
}

/* --- 为详情页工具栏新增的样式 --- */
.toolbar-comment-indicator {
    display: flex;
    align-items: center;
    background-color: #f0f0f0;
    padding: 8px 12px;
    border-radius: 6px;
    color: #555;
    cursor: pointer;
    transition: background-color 0.2s;
    flex-grow: 1;
    /* 让它占据更多空间 */
    justify-content: flex-start;
}

.toolbar-comment-indicator:hover {
    background-color: #e0e0e0;
}

/* --- 多选模式下的操作按钮组 --- */
.multiselect-actions {
    display: flex;
    flex-wrap: wrap;
    /* 组内也允许换行 */
    gap: 10px;
    align-items: center;
    justify-content: flex-end;
    flex-grow: 1;
    /* 占据剩余空间 */
}

/* --- 二级操作界面 (移动分类/标签) --- */
.action-ui-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
    padding: 5px 10px;
    border-radius: 6px;
}

.action-ui-wrapper .action-label {
    font-weight: 500;
    height: 28px;
}

#bulk-tags-input {
    height: 24px;
}

.post-management-controls {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: flex-end;
}

.edit-actions {
    flex-grow: 1;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* --- 页脚样式 --- */
.site-footer {
    text-align: center;
    margin-top: 40px;
    padding: 20px;
    background-color: #333;
    color: #aaa;
}

#back-to-top {
    position: fixed;
    bottom: 10%;
    left: 10%;
    background-color: #ffffffcc;
    color: rgb(78, 78, 78);
    border: 1px solid #ddd;
    border-radius: 50%;
    height: 50px;
    cursor: pointer;

    transition: opacity 0.3s ease, transform 0.3s ease, width 0.3s ease, padding 0.3s ease, margin 0.3s ease, border-width 0.3s ease;

    /* 默认可见时的样式 */
    opacity: 1;
    transform: scale(1);
    width: 50px;
    /* 或者你的按钮的宽度 */
    padding: 8px;
    border-width: 1px;
}

/* 隐藏状态下的样式 */
#back-to-top.hidden {
    opacity: 0;
    transform: scale(0.5);
    pointer-events: none;

    /* 关键：让它在布局上“消失” */
    width: 0;
    padding: 8px 0;
    /* 左右padding变为0 */
    margin-right: 0;
    /* 右边距变为0 */
    border-width: 0;
    overflow: hidden;
    /* 防止内容（如图标）在宽度为0时溢出 */
}

/* 确保图标也随之消失 */
#back-to-top.hidden .iconfont {
    opacity: 0;
}

.toolbar-content #back-to-top {
    position: relative;
    bottom: auto;
    left: 0%;
    border: none;
    background-color: #ffffff00;

}

#back-to-top:hover {
    color: #007BFF;
}

#back-to-top.fade-in.hidden {
    opacity: 0;
    transform: scale(0.5);
    /* 可以用缩放代替位移，效果更像“冒出来” */
}




@media (max-width: 960px) {

    .toolbar-btn .btn-text,
    .toolbar-comment-indicator .btn-text {
        display: none;
        /* 关键：隐藏所有文字标签 */
    }

}

/* 小窗口响应 */
@media (max-width: 768px) {

    .main-content,
    .site-header,
    .main-nav,
    .site-footer {
        width: 100%;
        box-sizing: border-box;
    }

    section {
        padding: 20px 15px !important;
    }

    .main-content,
    .site-header {
        /* 之前的 width: 100% 保持不变 */
        padding-left: 15px;
        /* 减小左右内边距 */
        padding-right: 15px;
    }

    .hero-section {
        padding: 80px 15px;
        min-height: 250px;
    }

    .post-image {
        float: none;
        width: 100%;
        height: auto;
        margin: 0;
        padding: 0;
        /* margin: 30px 0 10px 0; */
        align-items: center;
    }

    .posts-grid {
        grid-template-columns: 1fr;
    }

    .blog-card {
        width: 100%;
    }

    .main-nav ul {
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        /* 主轴方向为横向 */
        position: static;
        /* 取消绝对定位 */
        padding: 5px 0;
    }

    .main-nav li {
        flex: 0 0 auto;
        /* 关键：每个li宽度由内容决定，不占满整行 */
    }

    .nav-auth-item {
        /*         position:relative; */
        display: flex;
        position: absolute;
        /* 取消绝对定位 */
        /*         padding-top: 10px; */
        /*         border-top: 1px solid #555; */
        right: 5%;
        justify-content: center;
        align-items: center;
    }

    .nav-welcome-msg {
        display: none;
    }

    .main-nav li a {
        font-size: 1.15em;
        padding: 15px 20px;
        /*         border-right: 1px solid #777; */
        line-height: 1.4;
        height: 100%;
        height: auto;

        white-space: nowrap;
        text-align: center;
        /* 文字居中 */

    }

    .main-nav li:last-child a {
        border-right: none;
    }

    #back-to-top {
        left: 5%;
    }


    .hero-section {
        grid-template-columns: 1fr;
        /* 关键：从两列布局变为单列布局 */
        text-align: center;
        /* 讓歡迎語居中 */
        padding: 60px 20px;
        /* 调整内边距 */
    }

    .hero-content {
        text-align: center;
        /* 确保欢迎语居中 */
    }

    .hero-links-container {
        flex-direction: row;
        /* 从垂直排列变为水平排列 */
        overflow-x: auto;
        /* 允许横向滚动 */
        overflow-y: hidden;
        padding-bottom: 10px;
        /* 为滚动条留出空间 */
        max-height: none;
        /* 取消最大高度限制 */
        width: 100%;
    }

    .hero-link-card {
        flex-shrink: 0;
        /* 防止被压缩 */
        width: 150px;
        /* 给一个固定的宽度 */
        height: 60px;
    }

    .post-head {
        margin: 5px 10px;
    }

    .card-statusbar {
        gap: 10px;
    }

    .management-card .card-statusbar {
        gap: 5px;
    }

    .post-management-grid {
        grid-template-columns:none
    }

    .post-meta-container {
        flex-direction: column;
        /* 核心：在小屏幕上，主轴变为垂直方向 */
        align-items: flex-start;
        /* 所有项目向左对齐 */
        gap: 15px;
        /* 加大垂直间距 */
        margin: 0;
        /* 在小屏幕上可以取消左右边距 */
        padding: 15px;
    }

    /* 确保右侧的状态栏也占满整行 */
    .post-meta-container .statusbar-right {
        width: 100%;
        justify-content: flex-start;
        /* 让标签也从左侧开始排列 */
    }

    .post-meta-container,
    .post-actions {
        margin-left: 0;
        /* 移除桌面端的左边距 */
        margin-right: 0;
    }

    .post-actions {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: stretch;
        padding-top: 20px;
        margin: 0 30px;
        border-top: 1px solid #f0f0f0;
    }

    .read-more-btn {
        width: 100%;
        margin-bottom: 0;
    }

    .editor-actions {
        display: flex;
        flex-direction: row;
        gap: 10px;
        width: 100%;
    }

    .editor-actions .action-btn {
        flex: 1 1 0;
        /* 每个按钮等宽分布 */
        min-width: 0;
        /* 防止内容溢出撑破布局 */
        box-sizing: border-box;
    }

    .action-btn {
        text-align: center;
        /* 按钮文字居中 */
    }

    /* 抵消粘性筛选器的负外边距 */
    #archive-filters-sticky-wrapper,
    #management-filters-wrapper {
        margin: 0 -15px;
        padding-left: 15px;
        padding-right: 15px;
        top: 57.28px;
    }



    /* 让标签页和筛选控件垂直堆叠 */
    .archive-tabs {
        flex-wrap: nowrap;
        /* 保持单行 */
        overflow-x: auto;
        /* 允许横向滚动 */
    }

    .sort-and-search-controls {
        flex-direction: row;
        align-items: stretch;
        gap: 15px;
    }

    .toolbar-content {
        flex-wrap: wrap;
        /* 允许按钮换行 */
        justify-content: center;
        ;
        /* 在小屏幕上让按钮居中显示 */
        padding: 10px;
        /* 减小内边距 */
        gap: 8px;
    }

    /* --- 新增：编辑者操作按钮组的样式 --- */
    .toolbar-editor-actions {
        display: flex;
        /* 自身也是一个Flex容器 */
        width: 100%;
        /* 关键：让这个组在换行后，宽度占满整行 */
        gap: 10px;
        /* 组内按钮的间距 */
    }

    .toolbar-editor-actions .toolbar-btn {
        flex-grow: 1;
        /* 关键：让组内的每个按钮平分容器宽度 */
        justify-content: center;
        /* 按钮内容居中 */
    }

    .toolbar-btn,
    .toolbar-comment-indicator {
        padding: 8px 12px;
        /* 统一按钮大小 */
    }

    .toolbar-btn .btn-text,
    .toolbar-comment-indicator .btn-text {
        display: block;
    }

    .multiselect-actions {
        width: 100%;
        /* 占满整行 */
        justify-content: center;
        padding-bottom: 10px;
        border-bottom: 1px solid #e0e0e0;
        margin-right: 0;
        padding-right: 0;
        border-right: none;
    }

    #cancel-multiselect-btn,
    #multiselect-select-all-btn,
    #multiselect-invert-selection-btn {
        flex-grow: 1;
        /* 让取消和全选按钮平分第一行 */
    }


}

/* 在非常小的屏幕上（例如宽度小于480px），只显示图标 */
@media (max-width: 480px) {

    .toolbar-btn .btn-text,
    .toolbar-comment-indicator .btn-text {
        display: none;
        /* 关键：隐藏所有文字标签 */
    }

    .toolbar-btn,
    .toolbar-comment-indicator {
        padding: 8px;
        /* 让按钮变成接近正方形 */
        justify-content: center;
        flex-grow: 1;
        /* 让按钮平分宽度 */
    }

    .toolbar-comment-indicator {
        flex-grow: 2;
        /* 让评论框占据更多空间 */
    }


}


@media (min-width: 1920px) {

    .main-content,
    .site-header,
    .main-nav,
    .site-footer {
        max-width: 1920px;
        /* 增加最大宽度，让内容区伸展 */
    }

    .footer-toolbar {
        max-width: 1920px;
    }

    #post-management-table th,
    #post-management-table td {
        padding: 10px 8px;
        /* 减小内边距，让内容更紧凑 */
        white-space: nowrap;
        /* 防止长标题或内容换行，保证表格整洁 */
    }

    /*     .inline-form {
        flex-direction: column;
        align-items: stretch;
    } */

}


/*--- 权限控制 ---*/

#workspace-section,
.controls-wrapper,
.post-controls-cell,
.add-new-post-btn,
.delete-category-btn,
#new-category-form,
.toolbar-editor-actions {
    display: none !important;
    /* 默认都隐藏 */
}

.management-controls,
.post-management-controls {
display: none;
}

/* 游客只能看到评论表单 */
.role-visitor .comments-section {
    display: block;
}


/* 编辑者可以看到所有权限元素 */
.role-editor #workspace-section,
.role-editor .controls-wrapper,
.role-editor .add-new-post-btn,
.role-editor .delete-category-btn {
    display: block !important;
    /* 或者 flex, inline-block 等 */
}

.role-editor .toolbar-editor-actions,
.role-editor .post-management-controls,
.role-editor .management-controls
{
    display: flex !important;
}

/* 隐藏常规操作区 */
/* .multi-select-mode .management-controls {
    display: none !important;
} */

.role-editor .post-controls-cell {
    display: table-cell !important
}


.editor-actions {
    display: none !important;
    /* 默认隐藏整个编辑操作区 */
}

/* 当用户是编辑者时，显示它 */
.role-editor .editor-actions {
    display: flex !important;
}


/* --- 链接预览卡片样式 --- */
.link-preview-card {
    position: fixed;
    /* 使用 fixed 定位，相对于浏览器窗口 */
    width: 300px;
    background-color: white;
    border: 1px solid #ddd;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    border-radius: 8px;
    z-index: 3000;
    /* 确保在最顶层 */

    padding: 15px;

    /* 默认隐藏，并设置动画 */
    opacity: 0;
    transform: translateY(10px);
    visibility: hidden;
    pointer-events: none;
    /* 关键：让鼠标可以“穿透”它，避免闪烁 */
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s;
}

.link-preview-card.visible {
    opacity: 1;
    transform: translateY(0);
    visibility: visible;
}

/* 卡片内部样式 */
.link-preview-card .preview-image {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 6px;
    margin-bottom: 10px;
}

.link-preview-card .preview-title,
.link-preview-card h1,
.link-preview-card h2,
.link-preview-card h3,
.link-preview-card h4,
.link-preview-card h5,
.link-preview-card h6 {
    font-size: 1.1em;
    font-weight: bold;
    margin: 0 0 8px 0;
    color: #333;
}

.link-preview-card .preview-summary {
    font-size: 0.9em;
    color: #666;
    line-height: 1.5;
    /* 多行文本溢出显示省略号 */
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}